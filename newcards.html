<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<body style="background-color: cadetblue;">
  <div class="m-3">
    <label for="#">Name:-</label>
    <input type="text" id="name" placeholder="Name" class="m-3">
  </div>
  <div class="m-3">
    <label for="#">Phone No:-</label>
    <input type="number" id="number" placeholder="Number">
  </div>

  <div class="m-3">
    <input type="button" onclick="submit()" value="submit" class="btn btn-primary btn-lg">
    <input type="button" onclick="show()" value="Show" class="btn btn-success btn-lg">
  </div>





  <div class="modal" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Modal Heading</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
          <label for="n1">Name:</label>
          <input type="text" id="n1">
        </div>

        <div class="modal-body">
          <label for="n2">Phone Number:</label>
          <input type="number" id="n2">
        </div>

        <!-- Modal footer -->

        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-bs-dismiss="modal" onclick="add()">Add</button>
        </div>


      </div>
    </div>
  </div>




  <div class="container-fluid">
    <div class="row" id="result">

    </div>
  </div>


  <script>
   var arr = [];
    var newid = 0;
    function submit() {
      newid++;
      obj = {};
      var names = $("#name").val()
      var number = $("#number").val()
      obj.names = names
      obj.number = number;
      obj.ID = newid;
      arr.push(obj);
      var data;
      arr.forEach(function (value,  array) {

        data = ` <div class="col-sm-6 col-md-6 col-lg-4 col-12 mt-2" id="remove_${newid}">
                       <div class="card">
                       <div class="card-header" id="nam_${newid}">${value.names}</div>
                       <div class="card-body" id="num_${newid}"> ${value.number}</div>
                       <div class="card-body"><button type="button" class="btn btn-danger" onclick="del(${newid})">Delete</button>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal" onclick="edit(${newid})" id="ed_${newid}">Edit</button></div>
                      </div>
                  </div>`

      })
      $("#result").append(data);
    }

    function del(a) {
      $("#remove_" + a).remove();

      arr.forEach(function (value12, index, arr) {
        
        if ((value12.ID) == a) {
          arr.splice(index,1);
          return false;
        }
      })

    }
    
    var abc=""
    function edit(xyz) {
      abc = xyz
      var fname = $('#nam_'+abc).html();
      $('#n1').val(fname);
      var lenum =parseInt( $('#num_'+abc).html());
      $("#n2").val(lenum);
    }

    function add() {

      var addname = $('#n1').val()
      var addnum = $('#n2').val()
      $('#nam_' + abc).html(addname);
      $('#num_' + abc).html(addnum);

      arr.forEach(function (value1, index, arr) {

        if ((value1.ID) == abc) {
          arr[index].names = $("#nam_" + abc).html();
          arr[index].number = $("#num_" + abc).html();
          return false;
        }
      })

    }

   
    function show() {
      var arr2 = [];
      arr.forEach(function (value2, index) {
        var show_name = value2.names
        var show_number = value2.number
        var drt = {}
        drt.NAME = show_name
        drt.MOBILE_NO = show_number
        arr2.push(drt)
      })

      alert(JSON.stringify(arr2));
}


  </script>
</body>

</html>